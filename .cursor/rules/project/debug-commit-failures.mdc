---
description: When a commit attempt fails, always debug and resolve the cause
alwaysApply: true
---

# Debug Commit Failures

Whenever a `git commit` (or related command like `git push`) fails, **always debug the problem**—do not leave failures unexplained or ask the user to fix them without attempting a fix.

## Guidelines

- **Inspect the error**: Read the full error output from the terminal (exit code, stderr, and any hook or server messages).
- **Identify the cause**: Common causes include:
  - Pre-commit or commit-msg hooks (lint, format, tests) failing
  - Invalid commit message (e.g. not following Conventional Commits)
  - Auth or permission issues (e.g. push rejected, SSH keys)
  - Merge/rebase conflicts or dirty working tree when pushing
  - Large files, `.gitignore` issues, or staged files that should not be committed
- **Fix and retry**: Where possible, fix the underlying issue (e.g. fix lint errors, correct the commit message, resolve conflicts) and retry the commit or push.
- **Report if blocked**: If the fix requires user action (e.g. credentials, branch protection), clearly report what failed, why, and what the user needs to do.

## Checklist

1. Commit or push failed? → Read the full error output.
2. Cause identified? → Apply the fix (code, message, hooks, or docs).
3. Fixed? → Retry the commit/push.
4. Still failing or blocked? → Summarize cause and required user steps.
